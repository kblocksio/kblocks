apiVersion: kblocks.io/v1
kind: Block
spec:
  engine: noop
  definition:
    readme: ./README.md
    schema: ./src/values.schema.json
    description: An example of a noop block
    group: core
    version: v1
    kind: Secret
    plural: secrets
    singular: secret
  operator:
    namespace: kblocks-test
    env:
      KBLOCKS_EVENTS_URL: "http://{{ .Release.Name
        }}-testserver.kblocks-test.svc.cluster.local/events"
      KBLOCKS_CONTROL_URL: "ws://{{ .Release.Name
        }}-testserver.kblocks-test.svc.cluster.local/control"
      KBLOCKS_SYSTEM_ID: test-system
    skipCrd: true
    flushOnly: true
metadata:
  name: secrets.core
